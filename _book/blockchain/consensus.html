
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title> Consensus Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-disqus/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../web3/" />
    
    
    <link rel="prev" href="transaction.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Welcome
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Blockchain</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="./">
            
                <a href="./">
            
                    
                     Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="wallet-address.md">
            
                <span>
            
                    
                     Wallet
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="transaction.html">
            
                <a href="transaction.html">
            
                    
                     Transaction
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.4" data-path="consensus.html">
            
                <a href="consensus.html">
            
                    
                     Consensus
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Web3</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../web3/">
            
                <a href="../web3/">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../web3/deFi.html">
            
                <a href="../web3/deFi.html">
            
                    
                    DeFi
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../web3/NFT.html">
            
                <a href="../web3/NFT.html">
            
                    
                    NFT
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../web3/socialFi.html">
            
                <a href="../web3/socialFi.html">
            
                    
                    SocialFi
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="../ecosystem/DAO.md">
            
                <span>
            
                    
                    DAO
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Ethereum</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../ethereum/concepts/">
            
                <a href="../ethereum/concepts/">
            
                    
                    Concepts
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="../ethereum/concepts/transaction.html">
            
                <a href="../ethereum/concepts/transaction.html">
            
                    
                    Transaction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="../ethereum/concepts/event.html">
            
                <a href="../ethereum/concepts/event.html">
            
                    
                    Event
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.3" data-path="../ethereum/concepts/gas.html">
            
                <a href="../ethereum/concepts/gas.html">
            
                    
                    Gas
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../ethereum/tools/">
            
                <a href="../ethereum/tools/">
            
                    
                    Tools
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.2.1" data-path="../ethereum/tools/the-graph.html">
            
                <a href="../ethereum/tools/the-graph.html">
            
                    
                    The Graph
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.2" data-path="../ethereum/tools/ethers.html">
            
                <a href="../ethereum/tools/ethers.html">
            
                    
                    Ethers.js
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.3" data-path="../ethereum/tools/etherScan.html">
            
                <a href="../ethereum/tools/etherScan.html">
            
                    
                    EtherScan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.4" data-path="../ethereum/tools/hardHat.html">
            
                <a href="../ethereum/tools/hardHat.html">
            
                    
                    HardHat
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.5" data-path="../ethereum/tools/alchemy.html">
            
                <a href="../ethereum/tools/alchemy.html">
            
                    
                    Alchemy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.6" data-path="../ethereum/tools/openzeppelin-defender.html">
            
                <a href="../ethereum/tools/openzeppelin-defender.html">
            
                    
                    Openzeppelin Defender
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.7" data-path="../ethereum/tools/chainlink-automation.html">
            
                <a href="../ethereum/tools/chainlink-automation.html">
            
                    
                    Chainlink Automation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Smart Contract</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../smart-contract/solidity.html">
            
                <a href="../smart-contract/solidity.html">
            
                    
                    Solidity
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../smart-contract/patterns-&-best-practices.html">
            
                <a href="../smart-contract/patterns-&-best-practices.html">
            
                    
                    Patterns & Best Practices
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="../smart-contract/test-&-deployment.html">
            
                <a href="../smart-contract/test-&-deployment.html">
            
                    
                    Test & Deployment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="../smart-contract/EVM.html">
            
                <a href="../smart-contract/EVM.html">
            
                    
                    EVM
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Middle Layer</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../middle-layer/private-key-management.html">
            
                <a href="../middle-layer/private-key-management.html">
            
                    
                    Private Key Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="../middle-layer/event-listener.md">
            
                <span>
            
                    
                    Event Listener
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="../middle-layer/bot.html">
            
                <a href="../middle-layer/bot.html">
            
                    
                    Bot
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="../middle-layer/testing.html">
            
                <a href="../middle-layer/testing.html">
            
                    
                    Testing
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">DApp</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../dapp/what-is-dapp.html">
            
                <a href="../dapp/what-is-dapp.html">
            
                    
                    What is Dapp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="../dapp/wallet-connect/">
            
                <a href="../dapp/wallet-connect/">
            
                    
                    Wallet Connect
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.2.1" data-path="../dapp/wallet-connect/connect-to-wallet.html">
            
                <a href="../dapp/wallet-connect/connect-to-wallet.html">
            
                    
                    Connect to Wallet
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="../dapp/transaction-interaction.html">
            
                <a href="../dapp/transaction-interaction.html">
            
                    
                    Transaction Interaction
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." > Consensus</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="what-is-consensus&#xFF1F;">What is consensus&#xFF1F;</h1>
<p><em>Author: Martin</em></p>
<p>Blockchain consensus is the process by which all participants in a blockchain network reach agreement on the current state of the network. This agreement is critical for ensuring the security and integrity of the blockchain, as it ensures that all participants have a consistent view of the network and that transactions are properly validated and processed.</p>
<p>The role of consensus mechanisms in a blockchain network is to establish trust among participants and to ensure that all participants agree on the current state of the network. The consensus mechanism determines how transactions are validated, how new blocks are added to the chain, and how the network reaches agreement on the current state of the network.</p>
<p>There are several consensus mechanisms used in different blockchain networks, including Proof-of-Work (PoW), Proof-of-Stake (PoS), Delegated Proof-of-Stake (DPoS), and Practical Byzantine Fault Tolerance (PBFT). Each of these consensus mechanisms has its own strengths and weaknesses and is suited to different use cases and network requirements.</p>
<p>In general, the consensus mechanism is a crucial component of any blockchain network, as it determines the security, efficiency, and decentralization of the network. A well-designed consensus mechanism is essential for ensuring the long-term success and viability of the network, and choosing the right consensus mechanism is an important decision for any blockchain project.</p>
<h1 id="category">Category</h1>
<h2 id="pow">PoW</h2>
<p><img src="../assets/images/pow_flow.jpg" alt="PoW flow"></p>
<p>In PoW (Proof of Work), a node is selected through the competition of computing power, and the node determines the block content (bookkeeping right) of the next round of consensus. PoW requires nodes to consume their own computing power to try different random numbers (nonce), so as to find hash values that meet the requirements of computing power difficulty, and repeatedly try different nonces until they meet the requirements. This process is called &quot;mining&quot;.</p>
<p>The first node to find a suitable nonce gets the bookkeeping right. After the node generates a new block, it broadcasts it to other nodes, and other nodes verify the block. If it passes the verification, it accepts the block and completes the current round of consensus. Otherwise, it rejects the block and continues to search for a suitable nonce.</p>
<p>Finding a nonce that meets the requirements is very difficult and requires nodes to consume a lot of computing power. With the continuous accumulation of valid blocks, malicious nodes need to consume a huge amount of computing power to overthrow the previous blocks and complete the double-spending attack.</p>
<p> Please read <a href="https://github.com/bitcoinbook/bitcoinbook/blob/develop/ch10.asciidoc" target="_blank">Mining and Consensus</a> to learn the PoW consensus details.</p>
<h2 id="pos">PoS</h2>
<p> <img src="../assets/images/pos_flow.jpg" alt="PoS flow"></p>
<p>In the PoS consensus, nodes compete for accounting rights not by computing power but by rights (tokens). PoS also needs to calculate the hash value, but unlike PoW, it does not require continuous violent calculation to find the nonce value.</p>
<p>Each node only needs to calculate Hash once in each round of consensus. The more rights and interests it has, the greater the chance of meeting the Hash target and the greater the chance of obtaining bookkeeping rights. PoS is a resource-saving consensus protocol. The rights and interests defined by PeerCoin are not only related to the number of tokens, but also the coin age (Coin Age) is introduced. 100 tokens are held for two days, and the coin age is 200. The greater the chance of account rights.</p>
<p>Please read <a href="https://ethereum.org/en/developers/docs/consensus-mechanisms/pos/" target="_blank">Proof of stake</a> to learn more.</p>
<h2 id="dpos">DPoS</h2>
<p> <img src="../assets/images/dpos_flow.jpg" alt="DPoS flow"></p>
<p>Delegated Proof-of-Stake (DPoS) aims to address some of the scalability, security, and decentralization issues associated with PoW and PoS while providing a more efficient way to reach consensus on the network.</p>
<p>In DPoS, network participants elect a set of delegates or validators who are responsible for validating transactions and adding new blocks to the chain. The delegates are elected by the network&apos;s token holders through a voting process, and their role is to validate transactions and produce blocks on behalf of the network.</p>
<p>The process of selecting delegates is designed to balance the needs for decentralization and efficiency. Delegates are elected based on the number of votes they receive from the network&apos;s token holders, and the number of delegates is kept small to ensure high processing speeds.</p>
<p>Several nodes with the most votes from holders become the block producing nodes, represented by EOS, there are 21 nodes. In each round of consensus, a block producing node is selected in turn to generate a block and broadcast to other block producing nodes for verification. If the node fails to complete the block generation within the specified time, or generates an invalid block, it will be disqualified and replaced by re-voting to select a new block generation node.</p>
<p>Please read <a href="https://steemit.com/dpos/@dantheman/dpos-consensus-algorithm-this-missing-white-paper" target="_blank">DPoS Consensus Algorithm - The Missing White Paper</a> to learn more.</p>
<h2 id="pbft">PBFT</h2>
<p> <img src="../assets/images/pbft_flow.jpg" alt="PBFT flow"></p>
<p>PBFT is a Byzantine Fault Tolerance protocol with low algorithm complexity and high practicality in distributed systems. PBFT is mainly used in consortium blockchains. PBFT contains five phases: request, pre-prepare, prepare, commit and reply. The primary node forwards the message sent by the client to the other three nodes. In the case that node 3 is crashed, one message goes through five phases to reach a consensus among these nodes. Finally, these nodes reply to the client to complete a round of consensus. PBFT guarantees nodes maintain a common state and take a consistent action in each round of consensus. PBFT achieves the goal of strong consistency, thus it is an absolute-finality consensus protocol. As mentioned before, EOS takes a combined consensus protocol.</p>
<p> Please read <a href="https://pmg.csail.mit.edu/papers/osdi99.pdf" target="_blank">Practical Byzantine Fault Tolerance</a> to learn more.</p>
<h2 id="poh">PoH</h2>
<p> <img src="../assets/images/poh_flow.png" alt="PoH flow"></p>
<p>Keeping track of the order of transactions is vital for cryptocurrencies. Bitcoin does this by bundling transactions into blocks with a single timestamp. Each node has to validate these blocks in consensus with other nodes. However, this process results in significant waiting time for nodes to confirm a block across the network. Solana takes a different approach called Proof of History (PoH).</p>
<p>Solana events and transactions are all hashed using the SHA256 hash function, which takes an input and produces a unique and extremely difficult to predict output. Solana takes the output of a transaction and uses it as input for the next hash, so the order of the transactions is now inbuilt into the hashed output.</p>
<p>This hashing process creates a long, unbroken chain of hashed transactions. This results in a clear, verifiable order of transactions that a validator can add to a block without the need for a conventional timestamp.</p>
<p>Hashing also requires a certain amount of time to complete, meaning validators can easily verify how much time has passed. By ordering transactions in a chain of hashes, validators process and transmit less information per block. Using a hashed version of the latest state of transactions greatly reduces block confirmation time.</p>
<p>PoH is not a consensus mechanism but instead, a way of shortening the time spent confirming the order of transactions. When combined with PoS, selecting the next validator for a block is much easier. Nodes need less time to validate the order of transactions, meaning the network chooses a new validator more quickly.</p>
<p>Please read <a href="https://medium.com/solana-labs/proof-of-history-a-clock-for-blockchain-cf47a61a9274" target="_blank">Proof of History: A Clock for Blockchain</a> to learn more.</p>
<h1 id="comparison">Comparison</h1>
<table>
<thead>
<tr>
<th style="text-align:left">Property</th>
<th style="text-align:left">PoW</th>
<th style="text-align:left">PoS</th>
<th style="text-align:left">DPoS</th>
<th style="text-align:left">PBFT</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Type</td>
<td style="text-align:left">Probabilistic-finality</td>
<td style="text-align:left">Probabilistic-finality</td>
<td style="text-align:left">Probabilistic-finality</td>
<td style="text-align:left">Absolute-finality</td>
</tr>
<tr>
<td style="text-align:left">Fault tolerance</td>
<td style="text-align:left">50%</td>
<td style="text-align:left">50%</td>
<td style="text-align:left">50%</td>
<td style="text-align:left">33%</td>
</tr>
<tr>
<td style="text-align:left">Power consumption</td>
<td style="text-align:left">Large</td>
<td style="text-align:left">Less</td>
<td style="text-align:left">Less</td>
<td style="text-align:left">Negligible</td>
</tr>
<tr>
<td style="text-align:left">Scalability</td>
<td style="text-align:left">Good</td>
<td style="text-align:left">Good</td>
<td style="text-align:left">Good</td>
<td style="text-align:left">Bad</td>
</tr>
<tr>
<td style="text-align:left">Application</td>
<td style="text-align:left">Public</td>
<td style="text-align:left">Public</td>
<td style="text-align:left">Public</td>
<td style="text-align:left">Permissioned</td>
</tr>
</tbody>
</table>
<p> Please read <a href="https://www.sciencedirect.com/science/article/pii/S240595951930164X" target="_blank">Analysis of the main consensus protocols of blockchain</a> to learn the details.</p>
<h1 id="reference">Reference</h1>
<ul>
<li><a href="https://www.sciencedirect.com/science/article/pii/S240595951930164X" target="_blank">Analysis of the main consensus protocols of blockchain</a></li>
<li><a href="https://medium.com/solana-labs/proof-of-history-a-clock-for-blockchain-cf47a61a9274" target="_blank">Proof of History: A Clock for Blockchain</a></li>
<li><a href="https://academy.binance.com/en/articles/what-is-solana-sol" target="_blank">What is solana</a></li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="transaction.html" class="navigation navigation-prev " aria-label="Previous page:  Transaction">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../web3/" class="navigation navigation-next " aria-label="Next page: Introduction">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":" Consensus","level":"2.4","depth":1,"next":{"title":"Introduction","level":"3.1","depth":1,"path":"web3/README.md","ref":"web3/README.md","articles":[]},"previous":{"title":" Transaction","level":"2.3","depth":1,"path":"blockchain/transaction.md","ref":"blockchain/transaction.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["disqus","livereload"],"pluginsConfig":{"disqus":{"useIdentifier":false,"shortName":"57blocks-web3-knowledge-base"},"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"blockchain/consensus.md","mtime":"2023-03-10T09:56:17.920Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2023-03-16T05:45:14.491Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.16.1/URI.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-disqus/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

